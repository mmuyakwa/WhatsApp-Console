# Konfiguration für golangci-lint v2.x
# Siehe: https://golangci-lint.run/usage/configuration/

version: 2

run:
  timeout: 5m
  tests: true
  modules-download-mode: readonly

output:
  print-issued-lines: true
  print-linter-name: true

linters:
  enable:
    - errcheck      # Prüft auf unbehandelte Errors
    - gosimple      # Vereinfacht Code
    - govet         # Go vet
    - ineffassign   # Ineffektive Zuweisungen
    - staticcheck   # Statische Analyse
    - unused        # Unbenutzte Variablen/Funktionen
    - misspell      # Rechtschreibfehler
    - gofmt         # Code-Formatierung
    - goimports     # Import-Formatierung
    - gosec         # Sicherheitsprüfungen
  
  disable:
    - typecheck     # Deaktiviert da manchmal problematisch
    - gocritic      # Zu streng für jetzt
    - gocyclo       # Komplexität ignorieren 
    - funlen        # Funktionslänge ignorieren
    - gocognit      # Kognitive Komplexität ignorieren
    - nestif        # Verschachtelte if-Anweisungen ignorieren  
    - lll           # Zeilenlänge ignorieren
    - whitespace    # Leerzeichen-Probleme ignorieren
    - unconvert     # Unnötige Typ-Konvertierungen ignorieren
    - unparam       # Unbenutzte Parameter ignorieren

linters-settings:
  gosec:
    excludes:
      - G104 # Audit errors not checked (manchmal OK)

issues:
  exclude-rules:
    # Erlaube lange Zeilen in Tests
    - path: _test\.go
      linters:
        - lll
        - funlen
    
    # Erlaube unbehandelte Errors in main.go (für CLI-Apps oft OK)
    - path: main\.go
      linters:
        - errcheck
  
  max-issues-per-linter: 0
  max-same-issues: 0
